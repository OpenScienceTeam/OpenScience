{"version":3,"kind":"Notebook","sha256":"3c762f4fee8772d87447a3a5380c7aa3b716f536d151094cd3451d2d36c4d4e2","slug":"writing-template-code","location":"/en/writing-template-code.md","dependencies":[],"frontmatter":{"title":"Author Template - 2. Code","parts":{"abstract":{"mdast":{"type":"root","children":[{"type":"block","data":{"part":"abstract"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contains examples of all ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"f3xqKA5ote"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"MyST markdown","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pEmzfLiSel"}],"key":"nba6qT8nBZ"},{"type":"text","value":" code syntax","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gKFtcYbhmU"}],"key":"SitW72Ld4E"}],"key":"svn6b70e60"}],"key":"fUduy4nWh9"},"frontmatter":{"title":"Author Template - 2. Code","kernelspec":{"name":"jupyterbook","display_name":"jupyterbook"},"authors":[{"id":"OpenScienceTeam","name":"OpenScienceTeam"}],"keywords":[]}}},"kernelspec":{"name":"jupyterbook","display_name":"jupyterbook"},"authors":[{"id":"OpenScienceTeam","name":"OpenScienceTeam"}],"keywords":[],"numbering":{"title":{"offset":1}},"exports":[{"format":"md","filename":"writing-template-code.md","url":"/OpenScience/build/writing-template-cod-447ff9a857bedd70edf2328b9b32eee8.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Code Section","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"j3bjJMKs6j"}],"identifier":"code-section","label":"Code Section","html_id":"code-section","implicit":true,"key":"Vt2LSPt9Ys"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"This chapter demonstrates advanced usage of ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"wf9wx1EZf7"},{"type":"inlineCode","value":"{code-cell}","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"BniqHGTve8"},{"type":"text","value":".","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"PQCsHnCDP1"},{"type":"break","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"vSP2gQ8mX2"},{"type":"text","value":"All the examples are themed around ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"Y6UCYR3Efj"},{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"MOF structure modeling / adsorption simulation / materials property calculation","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"RQ3wyXH0zP"}],"key":"nUzVmcUgrl"},{"type":"text","value":".","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"gABl6Ye6pz"}],"key":"YjkZ12B0jZ"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Warning","key":"Lhetl71nV6"}],"key":"IPT5OPUDbk"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"All code sections must be in English to ensure correct execution and rendering.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"HIUyRtUG3c"}],"key":"W7VexMbk1e"}],"key":"F8lw5F5rlm"},{"type":"heading","depth":3,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"1. Static Code (Not Executed)","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"GGVTc68MBc"}],"identifier":"id-1-static-code-not-executed","label":"1. Static Code (Not Executed)","html_id":"id-1-static-code-not-executed","implicit":true,"key":"cKmq0qoCE7"},{"type":"code","lang":"","value":"Block content:\n\n:::{code} python\ndef mof_density(M, V):\n    return M / V\nprint(mof_density(1000, 500))\n:::","position":{"start":{"line":22,"column":1},"end":{"line":30,"column":1}},"key":"hxzIBhIHkF"},{"type":"code","lang":"python","value":"def mof_density(M, V):\n    return M / V\nprint(mof_density(1000, 500))","key":"Y9YaCe4LMW"},{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"Suitable for:\nConcept explanations / example code snippets","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"u0vJcIfrvF"}],"key":"cujkRfomaK"},{"type":"thematicBreak","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"cpVYVrvkbN"},{"type":"heading","depth":3,"position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"2. Executable code-cell","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"UFQ9Bt4hMU"}],"identifier":"id-2-executable-code-cell","label":"2. Executable code-cell","html_id":"id-2-executable-code-cell","implicit":true,"key":"VHAwzR9nqr"},{"type":"paragraph","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"(Requires ","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"equCviLth4"},{"type":"inlineCode","value":"kernelspec","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"oJXagkM42G"},{"type":"text","value":" at the top of the file and running ","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"LG9JDnvEHb"},{"type":"inlineCode","value":"myst start --execute","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"TRPMD4sj5f"},{"type":"text","value":")","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"vH8Y1k2Xq0"}],"key":"MoNs1eiqcP"},{"type":"code","lang":"","value":":::{code-cell} python\nimport numpy as np\nprint(\"Example: generate random porosity:\", np.random.rand())\n:::","position":{"start":{"line":47,"column":1},"end":{"line":52,"column":1}},"key":"zJCCLDbdl3"}],"key":"HKOU0AQFsJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import numpy as np\nprint(\"Example: generate random porosity:\", np.random.rand())","key":"ze8lPVxpXV"},{"type":"outputs","id":"whecVZgaAVCbPDsc69TS8","children":[],"key":"EeSe33nJHR"}],"key":"uG8EZoPOAH"},{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"O0oWyA8FJ4"},{"type":"heading","depth":3,"position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"text","value":"3. Add Metadata","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"jzGhKnmNXn"}],"identifier":"id-3-add-metadata","label":"3. Add Metadata","html_id":"id-3-add-metadata","implicit":true,"key":"dTCoF5h47X"},{"type":"paragraph","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"text","value":"Metadata can control the way code is executed and displayed.","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"key":"eWcqG483ZD"}],"key":"Q2QBl7XZWL"},{"type":"heading","depth":4,"position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"children":[{"type":"text","value":"3.1 Hide Input (only show output)","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"yLhkXNQcCH"}],"identifier":"id-3-1-hide-input-only-show-output","label":"3.1 Hide Input (only show output)","html_id":"id-3-1-hide-input-only-show-output","implicit":true,"key":"PqwQ5ir02D"},{"type":"code","lang":"","value":"Block content:\n\n:::{code-cell} python\n:tags: hide-input\nprint('MOF is great')\n:::","position":{"start":{"line":67,"column":1},"end":{"line":74,"column":1}},"key":"q4wfjGY3ZQ"}],"key":"XXmu0NaEwS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"print('MOF is great')","visibility":"hide","key":"T6z6pKlG21"},{"type":"outputs","id":"trilBC_OHpw809cJ92red","children":[],"visibility":"show","key":"sNxBkWrgCa"}],"data":{"tags":[]},"visibility":"show","key":"PAQCkpQiXU"},{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"vFJRgm8g7A"},{"type":"heading","depth":4,"position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"text","value":"3.2 Hide Output (only show code)","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"key":"JKPNlIIETA"}],"identifier":"id-3-2-hide-output-only-show-code","label":"3.2 Hide Output (only show code)","html_id":"id-3-2-hide-output-only-show-code","implicit":true,"key":"l0EYOVuvLe"},{"type":"code","lang":"","value":"Block content:\n\n:::{code-cell} python\n:tags: hide-output\n\nx = 42\nx\n:::","position":{"start":{"line":85,"column":1},"end":{"line":94,"column":1}},"key":"rINFAlD0Fo"}],"key":"dAnxRBa9Eq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"x = 42\nx","visibility":"show","key":"vkir9nH8wV"},{"type":"outputs","id":"MmdAQU8HKHIv8etQOXN_T","children":[],"visibility":"hide","key":"YAX6s7abvd"}],"data":{"tags":[]},"visibility":"show","key":"FLMaWNhoaF"},{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"QXkgIOkjdd"},{"type":"heading","depth":4,"position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"3.3 Completely Remove Input (code is invisible in the final webpage)","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"F1eXIc5g5p"}],"identifier":"id-3-3-completely-remove-input-code-is-invisible-in-the-final-webpage","label":"3.3 Completely Remove Input (code is invisible in the final webpage)","html_id":"id-3-3-completely-remove-input-code-is-invisible-in-the-final-webpage","implicit":true,"key":"DTDg4wVw75"},{"type":"code","lang":"","value":"Block content:\n:::{code-cell} python\n:tags: remove-input\n\nprint(\"This code is not visible in the final webpage, but still executed\")\n:::","position":{"start":{"line":106,"column":1},"end":{"line":113,"column":1}},"key":"aWRefGS3Qs"}],"key":"q24lva5yHb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"print(\"This code is not visible in the final webpage, but still executed\")","visibility":"remove","key":"K3X8wwLYpM"},{"type":"outputs","id":"T40odiS2rGs6D2UsiX7HA","children":[],"visibility":"show","key":"Wcqmv2AInc"}],"data":{"tags":[]},"visibility":"show","key":"iuUf1hy7Of"},{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"mtp4TxxtX6"},{"type":"heading","depth":4,"position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"3.4 Completely Remove Output (output not visible on webpage)","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"KXJbHw6Heg"}],"identifier":"id-3-4-completely-remove-output-output-not-visible-on-webpage","label":"3.4 Completely Remove Output (output not visible on webpage)","html_id":"id-3-4-completely-remove-output-output-not-visible-on-webpage","implicit":true,"key":"puhTodFx3d"},{"type":"code","lang":"","value":"Block content:\n\n:::{code-cell} python\n:tags: remove-output\n\nprint(\"This code is not visible in the final webpage, but still executed\")","position":{"start":{"line":125,"column":1},"end":{"line":132,"column":1}},"key":"GVh6PjRD1M"}],"key":"JTSKyO5WbN"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"print(\"This code is not visible in the final webpage, but still executed\")","visibility":"show","key":"DJR0wNlt0k"},{"type":"outputs","id":"EgknkEadrVNy0qzNDuLDt","children":[],"visibility":"remove","key":"bbF1JrM5PQ"}],"data":{"tags":[]},"visibility":"show","key":"a7IP6v4Gm9"},{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"key":"q3iQ7JaUGE"},{"type":"heading","depth":4,"position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"children":[{"type":"text","value":"Frequently Used Tags","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"KukWdZ9o4m"}],"identifier":"frequently-used-tags","label":"Frequently Used Tags","html_id":"frequently-used-tags","implicit":true,"key":"BswT7rZdiO"},{"type":"container","kind":"table","children":[{"type":"table","position":{"start":{"line":145,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"text","value":"tag","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"wnTcqUiMv2"}],"key":"rnNw5Ncw2Y"},{"type":"tableCell","header":true,"position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"text","value":"Meaning","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"r5LbQ3JViF"}],"key":"IrSWhWtlCC"}],"key":"CDcZ6H0rYc"},{"type":"tableRow","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"hide-input","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"AfQx5WzzC5"}],"key":"kNetwldPzL"},{"type":"tableCell","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"Hide code, show output only","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"cGEDXAwQ0I"}],"key":"VfEDZYUKM5"}],"key":"zneaJQhLhf"},{"type":"tableRow","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"text","value":"hide-output","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"CNRMKgY9k2"}],"key":"QJO78fk7DM"},{"type":"tableCell","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"text","value":"Hide output","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"bQFoGEVmCc"}],"key":"f1ersj6hAK"}],"key":"uTkAfBPV4E"},{"type":"tableRow","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"remove-input","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"IlNNfWPjww"}],"key":"Zjw2gPWDJB"},{"type":"tableCell","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"Completely remove input on the page","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"q3PY5KUFbd"}],"key":"QFbgaO7wBZ"}],"key":"JZkGCxA5xZ"},{"type":"tableRow","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"text","value":"remove-output","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"loz9vLnK5G"}],"key":"HGL7nYuNV1"},{"type":"tableCell","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"text","value":"Completely remove output","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"hDU5A4WtlA"}],"key":"bQrv3xxGVp"}],"key":"YLCEDjz6u6"},{"type":"tableRow","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"raises","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"letxmDfjtl"}],"key":"jpVRfcxTkj"},{"type":"tableCell","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"Specify expected exceptions","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"b0MgMIGrQb"}],"key":"uowGeFHp0T"}],"key":"Ow0GV1JsIV"},{"type":"tableRow","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"text","value":"cache","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"ALrAy7k3lO"}],"key":"DXvVRnsZMb"},{"type":"tableCell","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"text","value":"Allow execution caching","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"UOKM717JwR"}],"key":"PtrLDXx18n"}],"key":"kT3MpYWDsR"}],"key":"GQwUDCUDSH"}],"enumerator":"1","key":"rSwTZjMAIQ"},{"type":"thematicBreak","position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"key":"JclJjZqt5k"},{"type":"heading","depth":3,"position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"children":[{"type":"text","value":"4. Plotting","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"key":"Ul1rWHl7p3"}],"identifier":"id-4-plotting","label":"4. Plotting","html_id":"id-4-plotting","implicit":true,"key":"cLTTnUToGS"},{"type":"paragraph","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"children":[{"type":"text","value":"The following example shows a plot of the relationship between MOF porosity and surface area.","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"key":"eCM0KiVsXw"}],"key":"I9u7clFV4u"}],"key":"a7B2v7np5Y"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import numpy as np\nimport matplotlib.pyplot as plt\n\nphi = np.linspace(0.1, 0.9, 9)\nsa = 1500 * phi * 2\n\nplt.figure(figsize=(6,4))\nplt.plot(phi, sa, marker=\"o\")\nplt.xlabel(\"Porosity φ\")\nplt.ylabel(\"Surface Area (m²/g)\")\nplt.title(\"MOF Porosity vs Surface Area (illustration)\")\nplt.grid(True)\nplt.show()","key":"roAfgBqUSA"},{"type":"outputs","id":"E-oE7DQ0vJY7SHqoTUgho","children":[],"key":"YDKaTUUWFZ"}],"key":"nQGPVntTpN"},{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"vNLvUPsZUv"},{"type":"heading","depth":3,"position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"children":[{"type":"text","value":"5. Interactive Visualization","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"BjlJdLfmSZ"}],"identifier":"id-5-interactive-visualization","label":"5. Interactive Visualization","html_id":"id-5-interactive-visualization","implicit":true,"key":"sHIa8AWRKo"},{"type":"paragraph","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"children":[{"type":"text","value":"The following example uses Altair to create a simple interactive visualization of MOF porosity and surface area. You can brush-select a data range to highlight selected points and view corresponding statistics.","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"gJeq72ES1Z"}],"key":"CkGh8ij4wV"}],"key":"cRAStaKdyW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import altair as alt\nimport numpy as np\nimport pandas as pd\n\n# Generate MOF data with different types\nnp.random.seed(42)  # For reproducibility\nmof_types = ['MOF-5', 'UiO-66', 'HKUST-1', 'MIL-101(Cr)', 'NU-1000']\nphi_range = np.linspace(0.1, 0.9, 25)\n\n# Create data for different MOF types with varying relationships\ndata_list = []\nfor mof in mof_types:\n    # Different scaling factors for different MOFs\n    if mof == 'MOF-5':\n        scale_factor = 2.0\n        base_sa = 1500\n    elif mof == 'UiO-66':\n        scale_factor = 1.8\n        base_sa = 1200\n    elif mof == 'HKUST-1':\n        scale_factor = 2.2\n        base_sa = 1800\n    elif mof == 'MIL-101(Cr)':\n        scale_factor = 2.5\n        base_sa = 2000\n    else:  # NU-1000\n        scale_factor = 2.3\n        base_sa = 1900\n    \n    for phi in phi_range:\n        # Surface area relationship: varies by MOF type\n        sa = base_sa + scale_factor * 5000 * phi\n        \n        data_list.append({\n            'MOF_Type': mof,\n            'Porosity': round(phi, 2),\n            'Surface_Area': round(sa, 1)\n        })\n\ndf = pd.DataFrame(data_list)\n\n# Brush selection for interactive filtering\nbrush = alt.selection_interval(encodings=['x', 'y'])\n\n# Main scatter plot with lines\npoints = alt.Chart(df).mark_point().encode(\n    x=alt.X('Porosity:Q', \n            axis=alt.Axis(title='Porosity φ', format='.2f'),\n            scale=alt.Scale(domain=[0.1, 0.9])),\n    y=alt.Y('Surface_Area:Q', \n            axis=alt.Axis(title='Surface Area (m²/g)'),\n            scale=alt.Scale(domain=[0, 15000])),\n    color=alt.condition(brush, 'MOF_Type:N', alt.value('lightgray')),\n    #size=alt.condition(brush, alt.value(80), alt.value(40)),\n    tooltip=[\n        alt.Tooltip('MOF_Type:N', title='MOF Type'),\n        alt.Tooltip('Porosity:Q', title='Porosity', format='.2f'),\n        alt.Tooltip('Surface_Area:Q', title='Surface Area', format='.1f')\n    ]\n).add_params(brush).properties(\n    width=600,\n    height=400,\n    title='MOF Porosity vs Surface Area'\n)\n\n# Bar chart showing count of selected MOF types\nbars = alt.Chart(df).mark_bar().encode(\n    y=alt.Y('MOF_Type:N', axis=alt.Axis(title='MOF Type')),\n    color='MOF_Type:N',\n    x=alt.X('count():Q', axis=alt.Axis(title='Count'))\n).transform_filter(brush).properties(\n    width=600,\n    height=200,\n    title='Selected MOF Types Distribution'\n)\n\n# Combine charts vertically\npoints & bars","visibility":"hide","key":"oC2zFlMMlb"},{"type":"outputs","id":"ohoDRBFJBKrJ8yp4_8Rj3","children":[],"visibility":"show","key":"GW73Pm92Y5"}],"data":{"tags":[]},"visibility":"show","key":"e4QdfUXpAd"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"children":[{"type":"strong","position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"children":[{"type":"text","value":"Interactive Functionality Instructions:","position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"key":"kFDfeEkvZh"}],"key":"Sn3dNbzQIL"}],"key":"Vm0R7rxcas"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":268,"column":1},"end":{"line":271,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"text","value":"Brushing Selection:","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"il8JQ2kf0T"}],"key":"foGCJGz5tC"},{"type":"text","value":" Drag the mouse on the main chart to select a data region; selected points will be highlighted (in color), unselected will be gray","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"snDS0pHSsA"}],"key":"yA1uWoh92l"}],"key":"bsJIaj67JO"},{"type":"listItem","spread":true,"position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"children":[{"type":"text","value":"Statistics Chart:","position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"key":"eboImGHtXb"}],"key":"JiERDIK5xn"},{"type":"text","value":" The bar chart below will show the count distribution of each MOF type in the selected region in real time","position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"key":"Lwoaaa0ltW"}],"key":"g91sIv1bK8"}],"key":"hyEdYQg6tn"},{"type":"listItem","spread":true,"position":{"start":{"line":270,"column":1},"end":{"line":271,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"children":[{"type":"text","value":"Tooltip:","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"BAZweIsFOT"}],"key":"Iy33XZ3Ffr"},{"type":"text","value":" Hover over any data point to see details","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"y5HWL449yg"}],"key":"pwFbZrLgJc"}],"key":"cliJoxkiO6"}],"key":"ho71f10Sa4"},{"type":"thematicBreak","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"k1gRNwApSH"},{"type":"heading","depth":3,"position":{"start":{"line":274,"column":1},"end":{"line":274,"column":1}},"children":[{"type":"text","value":"6. Pandas Table","position":{"start":{"line":274,"column":1},"end":{"line":274,"column":1}},"key":"Jcgmc3mxn1"}],"identifier":"id-6-pandas-table","label":"6. Pandas Table","html_id":"id-6-pandas-table","implicit":true,"key":"gmIstijDdD"}],"key":"cLDRKb8tIs"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import pandas as pd\n\ndf = pd.DataFrame({\n    \"MOF\": [\"MOF-5\", \"UiO-66\", \"HKUST-1\"],\n    \"Metal\": [\"Zn²⁺\", \"Zr⁴⁺\", \"Cu²⁺\"],\n    \"Surface Area (m²/g)\": [3800, 1200, 1500]\n})\ndf","key":"aARI2Gb93x"},{"type":"outputs","id":"-GZ4nxlr8oBKSPteAh4Am","children":[],"key":"oLk0KmOnpI"}],"key":"I6ytIrFHEO"},{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":287,"column":1},"end":{"line":287,"column":1}},"key":"AJesNZCrct"},{"type":"heading","depth":3,"position":{"start":{"line":289,"column":1},"end":{"line":289,"column":1}},"children":[{"type":"text","value":"7. Structure Visualization (ASE)","position":{"start":{"line":289,"column":1},"end":{"line":289,"column":1}},"key":"zytyyyPa0r"}],"identifier":"id-7-structure-visualization-ase","label":"7. Structure Visualization (ASE)","html_id":"id-7-structure-visualization-ase","implicit":true,"key":"WT2UwXFVr8"},{"type":"paragraph","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"children":[{"type":"text","value":"(If your kernel has ase installed)","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"key":"ZEoxkGtu9g"}],"key":"ys2IyHTvxO"},{"type":"heading","depth":4,"position":{"start":{"line":293,"column":1},"end":{"line":293,"column":1}},"children":[{"type":"text","value":"7.1 Build molecule via ASE and show interactively","position":{"start":{"line":293,"column":1},"end":{"line":293,"column":1}},"key":"M7zWxSZoi3"}],"identifier":"id-7-1-build-molecule-via-ase-and-show-interactively","label":"7.1 Build molecule via ASE and show interactively","html_id":"id-7-1-build-molecule-via-ase-and-show-interactively","implicit":true,"key":"Xgi2TfHc5I"}],"key":"ad1gScMbxI"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from ase.build import molecule\nfrom ase.visualize import view\n\ntry:\n    # Build a simple molecule with ASE\n    water = molecule('H2O')\n    \n    # Visualize the molecule\n    disp_water = view(water, viewer='x3d')\n    display(disp_water)\n\nexcept:\n    print('ASE is not installed, so the example is skipped')","key":"iYZRKwJMJo"},{"type":"outputs","id":"ae-glwEKC9_bb3jmV5wjl","children":[],"key":"tqDH3Dbdle"}],"key":"v95oNscsvF"},{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":311,"column":1},"end":{"line":311,"column":1}},"key":"s8SSaZHafv"},{"type":"heading","depth":4,"position":{"start":{"line":313,"column":1},"end":{"line":313,"column":1}},"children":[{"type":"text","value":"7.2 Read and show structure from local file (CIF / POSCAR etc.)","position":{"start":{"line":313,"column":1},"end":{"line":313,"column":1}},"key":"nFCagko9vV"}],"identifier":"id-7-2-read-and-show-structure-from-local-file-cif-poscar-etc","label":"7.2 Read and show structure from local file (CIF / POSCAR etc.)","html_id":"id-7-2-read-and-show-structure-from-local-file-cif-poscar-etc","implicit":true,"key":"ZvuYaJEHCp"}],"key":"wJr3ZnJvq0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from ase.io import read\n\n# Read structure from a local file, e.g. CIF/PDB\nmof_from_file = read(\"../data/MOF-5.pdb\")\n\n# View the periodic structure\ndisp_mof=view(mof_from_file, viewer='x3d')\ndisplay(disp_mof)","key":"R2VN5ta9D5"},{"type":"outputs","id":"8X3h3QyUBMATL5jS3FvWv","children":[],"key":"SrzZo9hezW"}],"key":"JCIFTgAo0y"}],"key":"RC8Axj2T2I"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Author Template - 1. Basics","url":"/writing-template-basic","group":"English Content (EN)"},"next":{"title":"开放知识库编写指南","url":"/writing-guide-zh","group":"中文内容 (ZH)"}}},"domain":"http://localhost:3003"}