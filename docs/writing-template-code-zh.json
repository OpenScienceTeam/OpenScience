{"version":3,"kind":"Notebook","sha256":"c088483c40bd69868f8483ce05c143ad177e94de30b3ecde64f47dd19c282cfe","slug":"writing-template-code-zh","location":"/zh/writing-template-code-zh.md","dependencies":[],"frontmatter":{"title":"写作者模板 - 2.代码","parts":{"abstract":{"mdast":{"type":"root","children":[{"type":"block","data":{"part":"abstract"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"包含所有 ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EXuBq4rjXx"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"MyST markdown","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Edb52wl8B7"}],"key":"XXa27Cp14G"},{"type":"text","value":" 的代码语法示例","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ahaTKsR1c1"}],"key":"dY1ZM5YaIG"}],"key":"vxBAqfgmMZ"}],"key":"pLg5RfsoTm"},"frontmatter":{"title":"写作者模板 - 2.代码","kernelspec":{"name":"jupyterbook","display_name":"jupyterbook"},"authors":[{"id":"OpenScienceTeam","name":"OpenScienceTeam"}],"keywords":[]}}},"kernelspec":{"name":"jupyterbook","display_name":"jupyterbook"},"authors":[{"id":"OpenScienceTeam","name":"OpenScienceTeam"}],"keywords":[],"numbering":{"title":{"offset":1}},"exports":[{"format":"md","filename":"writing-template-code-zh.md","url":"/build/writing-template-cod-f57444651b1f739713c11a9e315be7d9.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"代码部分","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"O9lfqluycm"}],"identifier":"id","label":"代码部分","html_id":"id","implicit":true,"key":"WkkfqQEdKX"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"本章展示所有 ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"iNJNxMZ3f3"},{"type":"inlineCode","value":"{code-cell}","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"lrXyyvpwyN"},{"type":"text","value":" 的进阶用法。","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"yXkS2s6sZ6"},{"type":"break","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"lQdk2kC2RD"},{"type":"text","value":"所有示例均以 ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"VMAgURk1dy"},{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"MOF 结构建模 / 吸附模拟 / 材料性质计算","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"AjQAe7NNe5"}],"key":"isIwcTztIZ"},{"type":"text","value":" 为主题。","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"TCYW0MbVXX"}],"key":"PfeNpVscbs"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Warning","key":"MvSkTOklKB"}],"key":"EyUQlAUdUy"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"所有的代码部分请全部用英文，为保证运行和渲染效果。","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"SnkYPryHcr"}],"key":"rnE4OCd8E3"}],"key":"zCh7qekE1W"},{"type":"heading","depth":3,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"1. 静态代码（不执行）","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"Pyc8DGVWav"}],"identifier":"id-1","label":"1. 静态代码（不执行）","html_id":"id-1","implicit":true,"key":"nS3DQ4MSfV"},{"type":"code","lang":"","value":"block内容：\n\n:::{code} python\ndef mof_density(M, V):\nreturn M / V\nprint(mof_density(1000, 500))\n:::","position":{"start":{"line":22,"column":1},"end":{"line":30,"column":1}},"key":"svrHXRsUA9"},{"type":"code","lang":"python","value":"def mof_density(M, V):\nreturn M / V\nprint(mof_density(1000, 500))","key":"xvb5dplo6R"},{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"适用于：\n解释概念 / 示例代码片段","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"YDLLPYWtxI"}],"key":"XNkvpdJqss"},{"type":"thematicBreak","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"bNT0TyLqfy"},{"type":"heading","depth":3,"position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"2 可执行 code-cell","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"lcsfdijq2O"}],"identifier":"id-2-code-cell","label":"2 可执行 code-cell","html_id":"id-2-code-cell","implicit":true,"key":"W8MKoSu8iz"},{"type":"paragraph","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"（需要文件开头写 ","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"LFnVeehfhP"},{"type":"inlineCode","value":"kernelspec","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"CsJwUGRKc6"},{"type":"text","value":"，并且运行 ","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"H2NHBfDU0X"},{"type":"inlineCode","value":"myst start --execute","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"aZ3o3j1URz"},{"type":"text","value":"）","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"gZQ6VYe28p"}],"key":"qg8y1EYikz"},{"type":"code","lang":"","value":":::{code-cell} python\nimport numpy as np\nprint(\"Example: generate random porosity:\", np.random.rand())\n:::","position":{"start":{"line":47,"column":1},"end":{"line":52,"column":1}},"key":"O1sNBipzTh"}],"key":"gEl5hWQWBP"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import numpy as np\nprint(\"Example: generate random porosity:\", np.random.rand())","key":"zzQHBuk2NZ"},{"type":"outputs","id":"7DsrP8yGbXcxHLN0xoPgh","children":[],"key":"bbmBdvMT0f"}],"key":"pdTGV2RSNA"},{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"Tt5AvftSCE"},{"type":"heading","depth":3,"position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"text","value":"3 添加元数据","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"XSDpMNl5U5"}],"identifier":"id-3","label":"3 添加元数据","html_id":"id-3","implicit":true,"key":"enbU9xwkl9"},{"type":"paragraph","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"text","value":"元数据可以控制代码执行方式与显示方式。","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"key":"LidGxLptZo"}],"key":"LjBhcFfIwr"},{"type":"heading","depth":4,"position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"children":[{"type":"text","value":"3.1 隐藏输入（只显示输出）","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"y8z0ft5137"}],"identifier":"id-3-1","label":"3.1 隐藏输入（只显示输出）","html_id":"id-3-1","implicit":true,"key":"g6Rch7VOKc"},{"type":"code","lang":"","value":"block内容：\n\n:::{code-cell} python\n:tags: hide-input\nprint('MOF is great')\n:::","position":{"start":{"line":67,"column":1},"end":{"line":74,"column":1}},"key":"gFwcVnFFY0"}],"key":"FwwvW5GwrY"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"print('MOF is great')","visibility":"hide","key":"jYlWoqOffV"},{"type":"outputs","id":"qm_ky3o5D126ctH1zqFds","children":[],"visibility":"show","key":"tk73PBRdiq"}],"data":{"tags":[]},"visibility":"show","key":"wHqg2ktFN1"},{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"ZSNucVRkJJ"},{"type":"heading","depth":4,"position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"text","value":"3.2 隐藏输出（只显示代码）","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"key":"rcMswWEsk1"}],"identifier":"id-3-2","label":"3.2 隐藏输出（只显示代码）","html_id":"id-3-2","implicit":true,"key":"qd5C6fHzIL"},{"type":"code","lang":"","value":"block内容：\n\n:::{code-cell} python\n:tags: hide-output\n\nx = 42\nx\n:::","position":{"start":{"line":85,"column":1},"end":{"line":94,"column":1}},"key":"SpdzU6BRju"}],"key":"k4Yb0yWUIr"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"x = 42\nx","visibility":"show","key":"IJF2DCg26B"},{"type":"outputs","id":"U-dCPjyaAanTSuLAdOlFJ","children":[],"visibility":"hide","key":"UQE84QilnL"}],"data":{"tags":[]},"visibility":"show","key":"lnm0F1zmMy"},{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"z9Z6vlIo6o"},{"type":"heading","depth":4,"position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"3.3 完全移除输入（最终网页中看不到代码）","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"tustWzEWXk"}],"identifier":"id-3-3","label":"3.3 完全移除输入（最终网页中看不到代码）","html_id":"id-3-3","implicit":true,"key":"oOz6Gv2VkS"},{"type":"code","lang":"","value":"block内容：\n:::{code-cell} python\n:tags: remove-input\n\nprint(\"This code is not visible in the final webpage, but still executed\")\n:::","position":{"start":{"line":106,"column":1},"end":{"line":113,"column":1}},"key":"dQhuNJRug6"}],"key":"nEvSIHaDaw"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"print(\"This code is not visible in the final webpage, but still executed\")","visibility":"remove","key":"F3F44OdaH2"},{"type":"outputs","id":"N9ubm9XN3m27mTk7QG7EF","children":[],"visibility":"show","key":"OPCJb9K8XN"}],"data":{"tags":[]},"visibility":"show","key":"N0nefpVmuv"},{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"XQDkaR8ShB"},{"type":"heading","depth":4,"position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"3.4 完全移除输出（网页不可见）","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"ffHl2aYGfj"}],"identifier":"id-3-4","label":"3.4 完全移除输出（网页不可见）","html_id":"id-3-4","implicit":true,"key":"CUwj5YkRRF"},{"type":"code","lang":"","value":"block内容：\n\n:::{code-cell} python\n:tags: remove-output\n\nprint(\"This code is not visible in the final webpage, but still executed\")","position":{"start":{"line":125,"column":1},"end":{"line":132,"column":1}},"key":"fzUBSI4GiK"}],"key":"JWpd7Gqp9K"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"print(\"This code is not visible in the final webpage, but still executed\")","visibility":"show","key":"kfQfKjfkCa"},{"type":"outputs","id":"x12b27wdlX4YN9O3ZnnF2","children":[],"visibility":"remove","key":"J2LMom5DIT"}],"data":{"tags":[]},"visibility":"show","key":"L5SIRrEEoa"},{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"key":"sAmIfg6zJ0"},{"type":"heading","depth":4,"position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"children":[{"type":"text","value":"常用 tags","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"kBbhNAqiEB"}],"identifier":"id-tags","label":"常用 tags","html_id":"id-tags","implicit":true,"key":"s57YuuhQGb"},{"type":"container","kind":"table","children":[{"type":"table","position":{"start":{"line":145,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"text","value":"tag","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"DLvVrStrP2"}],"key":"iHh2mZIJ64"},{"type":"tableCell","header":true,"position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"text","value":"含义","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"ruKc5K3hjT"}],"key":"AyAsfW4q3Z"}],"key":"vCJGtfFnwf"},{"type":"tableRow","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"hide-input","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"RyKNrz8b4l"}],"key":"vvAThX6QVh"},{"type":"tableCell","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"隐藏代码，只显示输出","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"yaE3q5u2s9"}],"key":"jXvYtYiEbk"}],"key":"zXbdRBbZng"},{"type":"tableRow","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"text","value":"hide-output","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"rPlbe8xcTc"}],"key":"Uiz755Q2rT"},{"type":"tableCell","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"text","value":"隐藏输出","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"AjHUazkyI3"}],"key":"lVW8eXDXS7"}],"key":"KQrGPKDGCW"},{"type":"tableRow","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"remove-input","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"KoYwhhQ7i6"}],"key":"gmmGGRb3Zw"},{"type":"tableCell","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"最终页面完全移除输入","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"uhQMymz5lm"}],"key":"N8CjwFnnCu"}],"key":"cZdeKfMDLo"},{"type":"tableRow","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"text","value":"remove-output","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"aIqaWng0NF"}],"key":"N4DDsO9H4v"},{"type":"tableCell","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"text","value":"完全移除输出","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"nLBdnAfqFk"}],"key":"GRxZjGcZ4Z"}],"key":"DVrttnqk5I"},{"type":"tableRow","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"raises","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"SqQqXzxZnQ"}],"key":"RNvkjHScrU"},{"type":"tableCell","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"指定必须抛出的异常","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"HEoqjWXkYa"}],"key":"KBvn3ppz9I"}],"key":"INfVtSwEAn"},{"type":"tableRow","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"text","value":"cache","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"UbE2DCnw8g"}],"key":"mH6sgSVFQw"},{"type":"tableCell","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"text","value":"允许执行缓存","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"u1p3zsc3kP"}],"key":"XBlf3QTuD9"}],"key":"RP9C0t2enF"}],"key":"WaeXpWL5cF"}],"enumerator":"1","key":"x4bHa3VROE"},{"type":"thematicBreak","position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"key":"ZKOhZefi7c"},{"type":"heading","depth":3,"position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"children":[{"type":"text","value":"4. 图形绘制（Plotting）","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"key":"UjqqsKlqNQ"}],"identifier":"id-4-plotting","label":"4. 图形绘制（Plotting）","html_id":"id-4-plotting","implicit":true,"key":"O1jykxDKCJ"},{"type":"paragraph","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"children":[{"type":"text","value":"以下示例展示 MOF 孔隙率与比表面积的关系图。","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"key":"PC1X2sPvIg"}],"key":"ZsdxWDDQmC"}],"key":"yCq7DaJ4rk"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import numpy as np\nimport matplotlib.pyplot as plt\n\nphi = np.linspace(0.1, 0.9, 9)\nsa = 1500 * phi * 2\n\nplt.figure(figsize=(6,4))\nplt.plot(phi, sa, marker=\"o\")\nplt.xlabel(\"Porosity φ\")\nplt.ylabel(\"Surface Area (m²/g)\")\nplt.title(\"MOF Porosity vs Surface Area (illustration)\")\nplt.grid(True)\nplt.show()","key":"d2TZHhOwpi"},{"type":"outputs","id":"L7nU1-aNOywkDosrRr5Kd","children":[],"key":"kezMIWxlk6"}],"key":"MjhvKUFEB8"},{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"WiPPZEAUvG"},{"type":"heading","depth":3,"position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"children":[{"type":"text","value":"5. 交互式可视化（Interactive Visualization）","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"AAWUxI0cHv"}],"identifier":"id-5-interactive-visualization","label":"5. 交互式可视化（Interactive Visualization）","html_id":"id-5-interactive-visualization","implicit":true,"key":"DYwTylPAcj"},{"type":"paragraph","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"children":[{"type":"text","value":"以下示例使用 Altair 创建简单的交互式可视化，展示 MOF 孔隙率与比表面积的关系。你可以通过刷选数据范围来高亮显示选中的数据点，并查看对应的统计信息。","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"r7W1G2O21P"}],"key":"VYdFQLO7xG"}],"key":"TpoPKUgIid"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import altair as alt\nimport numpy as np\nimport pandas as pd\n\n# Generate MOF data with different types\nnp.random.seed(42)  # For reproducibility\nmof_types = ['MOF-5', 'UiO-66', 'HKUST-1', 'MIL-101(Cr)', 'NU-1000']\nphi_range = np.linspace(0.1, 0.9, 25)\n\n# Create data for different MOF types with varying relationships\ndata_list = []\nfor mof in mof_types:\n    # Different scaling factors for different MOFs\n    if mof == 'MOF-5':\n        scale_factor = 2.0\n        base_sa = 1500\n    elif mof == 'UiO-66':\n        scale_factor = 1.8\n        base_sa = 1200\n    elif mof == 'HKUST-1':\n        scale_factor = 2.2\n        base_sa = 1800\n    elif mof == 'MIL-101(Cr)':\n        scale_factor = 2.5\n        base_sa = 2000\n    else:  # NU-1000\n        scale_factor = 2.3\n        base_sa = 1900\n    \n    for phi in phi_range:\n        # Surface area relationship: varies by MOF type\n        sa = base_sa + scale_factor * 5000 * phi\n        \n        data_list.append({\n            'MOF_Type': mof,\n            'Porosity': round(phi, 2),\n            'Surface_Area': round(sa, 1)\n        })\n\ndf = pd.DataFrame(data_list)\n\n# Brush selection for interactive filtering\nbrush = alt.selection_interval(encodings=['x', 'y'])\n\n# Main scatter plot with lines\npoints = alt.Chart(df).mark_point().encode(\n    x=alt.X('Porosity:Q', \n            axis=alt.Axis(title='Porosity φ', format='.2f'),\n            scale=alt.Scale(domain=[0.1, 0.9])),\n    y=alt.Y('Surface_Area:Q', \n            axis=alt.Axis(title='Surface Area (m²/g)'),\n            scale=alt.Scale(domain=[0, 15000])),\n    color=alt.condition(brush, 'MOF_Type:N', alt.value('lightgray')),\n    #size=alt.condition(brush, alt.value(80), alt.value(40)),\n    tooltip=[\n        alt.Tooltip('MOF_Type:N', title='MOF Type'),\n        alt.Tooltip('Porosity:Q', title='Porosity', format='.2f'),\n        alt.Tooltip('Surface_Area:Q', title='Surface Area', format='.1f')\n    ]\n).add_params(brush).properties(\n    width=600,\n    height=400,\n    title='MOF Porosity vs Surface Area'\n)\n\n# Bar chart showing count of selected MOF types\nbars = alt.Chart(df).mark_bar().encode(\n    y=alt.Y('MOF_Type:N', axis=alt.Axis(title='MOF Type')),\n    color='MOF_Type:N',\n    x=alt.X('count():Q', axis=alt.Axis(title='Count'))\n).transform_filter(brush).properties(\n    width=600,\n    height=200,\n    title='Selected MOF Types Distribution'\n)\n\n# Combine charts vertically\npoints & bars","visibility":"hide","key":"wDd8OafceH"},{"type":"outputs","id":"GcKgAtbUN4RFngkklT3bL","children":[],"visibility":"show","key":"fBePaEMZTT"}],"data":{"tags":[]},"visibility":"show","key":"tEwZqvNOZR"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"children":[{"type":"strong","position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"children":[{"type":"text","value":"交互功能说明：","position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"key":"po18GZD670"}],"key":"YMVjpGojbv"}],"key":"GRvTtbbZsA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":268,"column":1},"end":{"line":271,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"text","value":"刷选区域","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"WhSBf76KEt"}],"key":"FKVtVfkElr"},{"type":"text","value":"：在主图表上拖拽鼠标选择数据范围，选中的数据点会高亮显示（有颜色），未选中的变为灰色","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"wedHo56Y0s"}],"key":"kmArkf0y1o"}],"key":"zneiaVHzNT"},{"type":"listItem","spread":true,"position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"children":[{"type":"text","value":"统计图表","position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"key":"Xu1F7gs0r9"}],"key":"d2V0tbXXc7"},{"type":"text","value":"：下方的条形图会实时显示选中区域中各个 MOF 类型的数量分布","position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"key":"JVcbR6m4B0"}],"key":"ABCqbFxFym"}],"key":"GV2tR3aFhv"},{"type":"listItem","spread":true,"position":{"start":{"line":270,"column":1},"end":{"line":271,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"children":[{"type":"text","value":"悬停提示","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"tgU2mRN4Bh"}],"key":"EOp0c4M2FX"},{"type":"text","value":"：将鼠标悬停在数据点上可查看详细信息","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"Xbc3R6xSgj"}],"key":"rOZKhuRO6t"}],"key":"xQnKSmjGAf"}],"key":"RQ48dfzvH2"},{"type":"thematicBreak","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"Vp2Y11PLQR"},{"type":"heading","depth":3,"position":{"start":{"line":274,"column":1},"end":{"line":274,"column":1}},"children":[{"type":"text","value":"6. Pandas 表格","position":{"start":{"line":274,"column":1},"end":{"line":274,"column":1}},"key":"fAceUVcfH1"}],"identifier":"id-6-pandas","label":"6. Pandas 表格","html_id":"id-6-pandas","implicit":true,"key":"uO8AlejuhA"}],"key":"FUOTmTlLCS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import pandas as pd\n\ndf = pd.DataFrame({\n    \"MOF\": [\"MOF-5\", \"UiO-66\", \"HKUST-1\"],\n    \"Metal\": [\"Zn²⁺\", \"Zr⁴⁺\", \"Cu²⁺\"],\n    \"Surface Area (m²/g)\": [3800, 1200, 1500]\n})\ndf","key":"zAzdfMCauS"},{"type":"outputs","id":"LWzzTSI-jQSCrw7eIKHZx","children":[],"key":"XV10JbauJU"}],"key":"hYQIZDz8v0"},{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"key":"XiDnILdN0S"},{"type":"heading","depth":3,"position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"children":[{"type":"text","value":"7. 结构可视化（ASE）","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"nJQt32jI3k"}],"identifier":"id-7-ase","label":"7. 结构可视化（ASE）","html_id":"id-7-ase","implicit":true,"key":"vJNmuFPyIY"},{"type":"paragraph","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"children":[{"type":"text","value":"（如果你的 kernel 安装了 ase）","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"eYibMAuIxP"}],"key":"pS0MpKoHRv"},{"type":"heading","depth":4,"position":{"start":{"line":294,"column":1},"end":{"line":294,"column":1}},"children":[{"type":"text","value":"7.1 ASE构造分子并交互显示","position":{"start":{"line":294,"column":1},"end":{"line":294,"column":1}},"key":"bvZyDbcMOL"}],"identifier":"id-7-1-ase","label":"7.1 ASE构造分子并交互显示","html_id":"id-7-1-ase","implicit":true,"key":"fqsO742dEP"}],"key":"JjeRqWKpib"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from ase.build import molecule\nfrom ase.visualize import view\n\ntry:\n    #Build a simple molecule with ASE\n    water = molecule('H2O')\n    \n    #Visualize the molecule\n    \n    disp_water = view(water, viewer='x3d')\n    display(disp_water)\n\nexcept:\n    print('ASE is not installed, so the example is skipped')","key":"DsjQ2bOf5x"},{"type":"outputs","id":"s3-r1IYu597uJcGyr014-","children":[],"key":"tETEeMO4tT"}],"key":"vJ11AFBXbf"},{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":313,"column":1},"end":{"line":313,"column":1}},"key":"r2uZDLqtsJ"},{"type":"heading","depth":4,"position":{"start":{"line":315,"column":1},"end":{"line":315,"column":1}},"children":[{"type":"text","value":"7.2 从本地文件读取结构并展示（CIF / POSCAR 等）","position":{"start":{"line":315,"column":1},"end":{"line":315,"column":1}},"key":"WFvCza487w"}],"identifier":"id-7-2-cif-poscar","label":"7.2 从本地文件读取结构并展示（CIF / POSCAR 等）","html_id":"id-7-2-cif-poscar","implicit":true,"key":"jq9AiIyJhk"}],"key":"KfgO31Chs3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from ase.io import read\n\n#Read structure from a local file, e.g. CIF\\PDB\nmof_from_file = read(\"../data/MOF-5.pdb\")\n\n#View the periodic structure\ndisp_mof=view(mof_from_file, viewer='x3d')\ndisplay(disp_mof)","key":"y5RGhVsCpA"},{"type":"outputs","id":"lCSqBUWRTs8xbozmjOf6l","children":[],"key":"iing6yLw7V"}],"key":"ICgLOGb1N6"}],"key":"sXJp9wTzJy"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"写作者模板 - 1.基础","url":"/writing-template-basic-zh","group":"中文内容 (ZH)"},"next":{"title":"MOF书籍示例第一章（基础）","url":"/ch1-mof-basics-zh","group":"中文内容 (ZH)"}}},"domain":"http://localhost:3000"}